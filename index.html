<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SEO ê¸°ë³¸ -->
<title>MONIQUE ëª¨ë‹ˆí¬ | ì„œê·€í¬ì¹´í˜ Â· ì„œê·€í¬ì¤‘ë¬¸ì¹´í˜ Â· ì œì£¼ë„ì¹´í˜ | QR ë©”ë‰´ & í…Œì´í¬ì•„ì›ƒ</title>
<meta name="description" content="ì œì£¼ ì„œê·€í¬ ì¤‘ë¬¸ ì¹´í˜ MONIQUE. QR ë©”ë‰´ë¡œ ì»¤í”¼Â·ë””ì €íŠ¸Â·í‹°ë¥¼ í™•ì¸í•˜ê³  ìœ„ì±—ìœ¼ë¡œ í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸í•˜ì„¸ìš”. Cafe in Seogwipo Jungmun, Jeju. æµå·å²›è¥¿å½’æµ¦ä¸­æ–‡å’–å•¡å…ã€‚">
<meta name="keywords" content="ì„œê·€í¬ì¹´í˜,ì„œê·€í¬ì¤‘ë¬¸ì¹´í˜,ì œì£¼ë„ì¹´í˜,ì œì£¼ì¹´í˜,ì¤‘ë¬¸ì¹´í˜,ëª¨ë‹ˆí¬,MONIQUE,QRë©”ë‰´,í…Œì´í¬ì•„ì›ƒ,Seogwipo Cafe,Jungmun Cafe,Jeju Cafe,æµå·å²›å’–å•¡å…">
<meta name="author" content="MONIQUE Cafe">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://pha00zgo-cmyk.github.io/1/">

<!-- Open Graph (SNS ê³µìœ ìš©) -->
<meta property="og:type" content="restaurant">
<meta property="og:title" content="MONIQUE ëª¨ë‹ˆí¬ | ì„œê·€í¬ ì¤‘ë¬¸ ì¹´í˜">
<meta property="og:description" content="ì œì£¼ ì„œê·€í¬ ì¤‘ë¬¸ ì¹´í˜. QRë¡œ ë©”ë‰´ í™•ì¸, ìœ„ì±— í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸. Coffee, Dessert, Tea.">
<meta property="og:image" content="">
<meta property="og:url" content="https://pha00zgo-cmyk.github.io/1/">
<meta property="og:locale" content="ko_KR">
<meta property="og:locale:alternate" content="en_US">
<meta property="og:locale:alternate" content="zh_CN">
<meta property="og:site_name" content="MONIQUE Cafe">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="MONIQUE ëª¨ë‹ˆí¬ | ì„œê·€í¬ ì¤‘ë¬¸ ì¹´í˜">
<meta name="twitter:description" content="ì œì£¼ ì„œê·€í¬ ì¤‘ë¬¸ ì¹´í˜. QR ë©”ë‰´ & í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸.">
<meta name="twitter:image" content="">

<!-- ë„¤ì´ë²„ ì„œì¹˜ì–´ë“œë°”ì´ì € (ë“±ë¡ í›„ ì¸ì¦ ì½”ë“œ ì…ë ¥) -->
<!-- <meta name="naver-site-verification" content="ì—¬ê¸°ì—_ì¸ì¦ì½”ë“œ"> -->

<!-- êµ¬ê¸€ ì„œì¹˜ì½˜ì†” (ë“±ë¡ í›„ ì¸ì¦ ì½”ë“œ ì…ë ¥) -->
<!-- <meta name="google-site-verification" content="ì—¬ê¸°ì—_ì¸ì¦ì½”ë“œ"> -->

<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css">
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
<body>

<style>
#moniqueApp{
  --bg:#ffffff; --fg:#0f172a; --muted:#64748b; --line:#e2e8f0;
  --card:#f8fafc; --brand:#2f6b55; --radius:18px;
  --shadow: 0 10px 25px rgba(2,6,23,.06);
  max-width:1100px; margin:0 auto; padding:18px 10px 40px;
  font-family:"Pretendard Variable", system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
  color:var(--fg);
  -webkit-text-size-adjust:100%;
}
#moniqueApp *{ box-sizing:border-box; }
#moniqueApp a{ color:inherit; text-decoration:none; }
#moniqueApp button, #moniqueApp input, #moniqueApp select, #moniqueApp textarea{
  font:inherit;
  -webkit-appearance:none;
  appearance:none;
}
#moniqueApp select{ background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath d='M2 4l4 4 4-4' fill='none' stroke='%2364748b' stroke-width='1.5'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 12px center; padding-right:32px; }
#moniqueApp button{ -webkit-tap-highlight-color:transparent; touch-action:manipulation; }

#moniqueApp .top{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:14px 16px; border:1px solid var(--line); border-radius:22px;
  background:rgba(255,255,255,.92); backdrop-filter: blur(10px);
  box-shadow: var(--shadow);
  flex-wrap:wrap;
}
#moniqueApp .brand{ display:flex; align-items:center; gap:10px; min-width:0; }
#moniqueApp .logo{
  width:40px; height:40px; border-radius:14px;
  background:linear-gradient(135deg, var(--brand), #1e293b);
}
#moniqueApp .brand-title{ line-height:1.1; }
#moniqueApp .brand-title strong{ display:block; font-size:16px; letter-spacing:.3px; }
#moniqueApp .brand-title span{ display:block; font-size:12px; color:var(--muted); }

#moniqueApp .nav{ display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end; flex:1; }
#moniqueApp .chip{
  border:1px solid var(--line); background:#fff; padding:8px 12px;
  border-radius:999px; font-size:13px; cursor:pointer; white-space:nowrap;
  display:flex; flex-direction:column; align-items:center; gap:2px;
  flex-shrink:0;
}
#moniqueApp .chip .chip-en{
  font-size:10px; color:var(--muted); font-weight:400;
}
#moniqueApp .intro-banner{
  margin-top:14px;
  padding:16px 18px;
  border:1px solid var(--line);
  border-radius:22px;
  background: linear-gradient(135deg, color-mix(in srgb, var(--brand) 8%, white), #fff);
  box-shadow: var(--shadow);
}
#moniqueApp .intro-banner h1{ margin:0; font-size:18px; line-height:1.4; }
#moniqueApp .intro-banner .intro-desc{ margin:8px 0 0; color:var(--muted); font-size:13px; line-height:1.7; }
#moniqueApp .intro-banner .intro-lang{
  margin-top:10px;
  padding-top:10px;
  border-top:1px solid var(--line);
  font-size:12.5px;
  color:var(--muted);
  line-height:1.7;
}
#moniqueApp .chip:hover{ background:#f1f5f9; }
#moniqueApp .chip.primary{
  border-color: var(--brand);
  background: color-mix(in srgb, var(--brand) 10%, white);
  font-weight:700;
}

#moniqueApp .grid{
  display:grid;
  grid-template-columns: 1.6fr .9fr;
  gap:16px;
  margin-top:16px;
}
#moniqueApp .card{
  border:1px solid var(--line);
  background:#fff;
  border-radius:var(--radius);
  box-shadow: var(--shadow);
  overflow:hidden;
}
#moniqueApp .head{
  padding:14px 14px 10px;
  border-bottom:1px solid var(--line);
  display:flex; align-items:flex-end; justify-content:space-between; gap:10px;
}
#moniqueApp .head h2{ margin:0; font-size:16px; letter-spacing:.2px; }
#moniqueApp .head p{ margin:0; color:var(--muted); font-size:12.5px; }
#moniqueApp .body{ padding:14px; }

#moniqueApp .hero{
  margin-top:14px;
  padding:14px;
  border:1px solid var(--line);
  border-radius:22px;
  background: linear-gradient(135deg, color-mix(in srgb, var(--brand) 8%, white), #fff);
}
#moniqueApp .hero-img{
  width:100%;
  height:320px;
  border-radius:16px;
  overflow:hidden;
  margin-bottom:16px;
  background:#f1f5f9;
  position:relative;
}
#moniqueApp .hero-img img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
#moniqueApp .hero-img img[src=""]{
  display:none;
}
#moniqueApp .hero-img-placeholder{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  text-align:center;
  color:var(--muted);
  font-size:14px;
  border:2px dashed var(--line);
  border-radius:16px;
}
#moniqueApp .hero-img img[src=""]+.hero-img-placeholder{
  display:grid;
}
#moniqueApp .hero-img img:not([src=""])+.hero-img-placeholder{
  display:none;
}
#moniqueApp .hero h1{ margin:0; font-size:20px; }
#moniqueApp .hero .sub{ margin:8px 0 0; color:var(--muted); font-size:13px; line-height:1.6; }
#moniqueApp .badgeRow{
  display:flex; gap:8px; flex-wrap:wrap; margin-top:10px;
}
#moniqueApp .badge{
  border:1px solid var(--line);
  background:#fff;
  border-radius:999px;
  padding:7px 10px;
  font-size:12.5px;
  color:#0b1220;
}
#moniqueApp .small{ font-size:12px; color:var(--muted); }
#moniqueApp .divider{ height:1px; background:var(--line); margin:14px 0; }

#moniqueApp .section-title{
  margin:18px 0 10px;
  font-size:15px;
  color:#0b1220;
  display:flex; align-items:center; gap:8px;
}
#moniqueApp .section-title small{ color:var(--muted); font-weight:500; }
#moniqueApp .menu-list{ display:grid; grid-template-columns: repeat(3, 1fr); gap:10px; }

#moniqueApp .menu-item{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:12px;
  border:1px solid var(--line);
  border-radius:16px;
  background:var(--card);
}
#moniqueApp .menu-item .right{
  flex-direction:row;
  justify-content:space-between;
  align-items:center;
  min-width:unset;
}
#moniqueApp .left{ min-width:0; }
#moniqueApp .name{
  margin:0;
  font-weight:750;
  font-size:14px;
  line-height:1.3;
  word-break:keep-all;
}
#moniqueApp .name-lang{
  margin:2px 0 0;
  color:var(--muted);
  font-size:11.5px;
  line-height:1.3;
  font-weight:400;
}
#moniqueApp .desc{
  margin:6px 0 0;
  color:var(--muted);
  font-size:12.5px;
  line-height:1.4;
}
#moniqueApp .right{
  display:flex; flex-direction:column; align-items:flex-end; gap:8px;
  min-width: 120px;
}
#moniqueApp .price{ font-weight:900; font-size:14px; }
#moniqueApp .btn{
  border:1px solid var(--line);
  background:#fff;
  border-radius:14px;
  padding:9px 10px;
  cursor:pointer;
  font-size:13px;
  display:inline-flex;
  align-items:center;
  gap:8px;
}
#moniqueApp .btn:hover{ background:#f1f5f9; }
#moniqueApp .btn.add{
  border-color: color-mix(in srgb, var(--brand) 45%, var(--line));
  background: color-mix(in srgb, var(--brand) 8%, white);
  font-weight:750;
}
#moniqueApp .btn.primary{
  border-color: var(--brand);
  background: var(--brand);
  color:#fff;
  font-weight:850;
}
#moniqueApp .btn.primary:hover{ filter:brightness(.98); }
#moniqueApp .btn.danger{
  border-color: #ef4444;
  background: color-mix(in srgb, #ef4444 8%, white);
  color:#b91c1c;
  font-weight:750;
}

#moniqueApp .pillnote{
  margin-top:10px;
  padding:10px 12px;
  border:1px dashed color-mix(in srgb, var(--brand) 45%, var(--line));
  border-radius:16px;
  background: color-mix(in srgb, var(--brand) 6%, white);
  color: #0b1220;
  font-size:12.5px;
  line-height:1.55;
}

/* âœ… ë©”ë‰´ë³„ ì´ë¯¸ì§€ ìë¦¬ */
#moniqueApp .item-img{
  width:100%;
  height:160px;
  border:1px dashed var(--line);
  border-radius:16px;
  background:#fff;
  display:grid;
  place-items:center;
  color:var(--muted);
  overflow:hidden;
  margin-bottom:10px;
  position:relative;
}
#moniqueApp .item-img img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
#moniqueApp .img-badge{
  position:absolute;
  left:10px; top:10px;
  padding:6px 8px;
  border-radius:999px;
  font-size:11.5px;
  background:rgba(255,255,255,.85);
  border:1px solid var(--line);
  color:var(--muted);
}

/* Cart */
#moniqueApp .cart-empty{
  color:var(--muted);
  font-size:13px;
  padding:14px;
  border:1px dashed var(--line);
  border-radius:16px;
  background:#fff;
}
#moniqueApp .cart-list{ display:flex; flex-direction:column; gap:10px; }
#moniqueApp .cart-row{
  display:grid;
  grid-template-columns: 1fr auto;
  gap:10px;
  padding:12px;
  border:1px solid var(--line);
  border-radius:16px;
  background:#fff;
}
#moniqueApp .cart-name{ margin:0; font-weight:750; font-size:13.5px; line-height:1.3; }
#moniqueApp .cart-sub{ margin:6px 0 0; color:var(--muted); font-size:12.5px; line-height:1.4; }
#moniqueApp .qty{ display:flex; align-items:center; gap:8px; justify-content:flex-end; }
#moniqueApp .qty button{
  width:34px; height:34px;
  border-radius:12px;
  border:1px solid var(--line);
  background:#fff;
  cursor:pointer;
}
#moniqueApp .qty button:hover{ background:#f1f5f9; }
#moniqueApp .qty span{ min-width:20px; text-align:center; font-weight:800; }

#moniqueApp .totals{
  margin-top:12px;
  padding:12px;
  border:1px solid var(--line);
  border-radius:16px;
  background:var(--card);
  display:flex;
  flex-direction:column;
  gap:8px;
}
#moniqueApp .totals .row{ display:flex; justify-content:space-between; gap:10px; font-size:13px; color:var(--muted); }
#moniqueApp .totals .row strong{ color:var(--fg); font-size:15px; }

#moniqueApp .form{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
}
#moniqueApp .field{ display:flex; flex-direction:column; gap:6px; }
#moniqueApp .field label{ font-size:12.5px; color:var(--muted); }
#moniqueApp .field input, #moniqueApp .field textarea, #moniqueApp .field select{
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px 12px;
  outline:none;
  background:#fff;
}
#moniqueApp .field textarea{ min-height:80px; resize:vertical; }
#moniqueApp .field input:focus, #moniqueApp .field textarea:focus, #moniqueApp .field select:focus{
  border-color: color-mix(in srgb, var(--brand) 50%, var(--line));
}
#moniqueApp .form .full{ grid-column: 1 / -1; }

#moniqueApp .actions{
  margin-top:12px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

/* QR */
#moniqueApp .qr-box{
  display:grid;
  grid-template-columns: 160px 1fr;
  gap:12px;
  align-items:center;
}
#moniqueApp #qrcode{
  width:160px; height:160px;
  display:grid;
  place-items:center;
  border:1px solid var(--line);
  border-radius:18px;
  background:#fff;
}

/* Map */
#moniqueApp .map-wrap{
  border:1px solid var(--line);
  border-radius:18px;
  overflow:hidden;
  background:#fff;
}
#moniqueApp .map-iframe{
  width:100%;
  height:300px;
  border:0;
  display:block;
}
#moniqueApp .dir-row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top:10px;
}

/* íƒœë¸”ë¦¿ */
@media (max-width: 980px){
  #moniqueApp .grid{ grid-template-columns: 1fr; }
  #moniqueApp .menu-list{ grid-template-columns: repeat(2, 1fr); }
  #moniqueApp .form{ grid-template-columns: 1fr; }
  #moniqueApp .qr-box{ grid-template-columns: 1fr; }
  #moniqueApp #qrcode{ width:180px; height:180px; }
}

/* ëª¨ë°”ì¼ */
@media (max-width: 600px){
  #moniqueApp{ padding:10px 8px 30px; }

  /* ìƒë‹¨ ë„¤ë¹„ ì„¸ë¡œ ì •ë ¬ */
  #moniqueApp .top{
    flex-direction:column;
    align-items:stretch;
    padding:12px;
    border-radius:16px;
    gap:10px;
  }
  #moniqueApp .brand{ justify-content:center; }
  #moniqueApp .nav{ justify-content:center; gap:6px; }
  #moniqueApp .chip{ padding:7px 10px; font-size:12px; }

  /* ì†Œê°œ ë°°ë„ˆ */
  #moniqueApp .intro-banner{ padding:12px 14px; border-radius:16px; }
  #moniqueApp .intro-banner h1{ font-size:15px; }

  /* ì¹´ë“œ */
  #moniqueApp .card{ border-radius:14px; }
  #moniqueApp .head{ flex-direction:column; align-items:flex-start; padding:12px; }
  #moniqueApp .body{ padding:10px; }

  /* ë©”ë‰´ 1ì—´ */
  #moniqueApp .menu-list{ grid-template-columns: 1fr; gap:8px; }
  #moniqueApp .menu-item{ padding:10px; border-radius:14px; }
  #moniqueApp .item-img{ height:140px; border-radius:12px; }
  #moniqueApp .section-title{ font-size:14px; flex-wrap:wrap; }

  /* ì¥ë°”êµ¬ë‹ˆ */
  #moniqueApp .cart-row{ grid-template-columns: 1fr; gap:8px; }
  #moniqueApp .qty{ justify-content:flex-start; }
  #moniqueApp .qty button{ width:38px; height:38px; }

  /* ì£¼ë¬¸ í¼ */
  #moniqueApp .form{ grid-template-columns: 1fr; }
  #moniqueApp .field input, #moniqueApp .field textarea, #moniqueApp .field select{
    font-size:16px;
    padding:12px;
  }

  /* ë²„íŠ¼ */
  #moniqueApp .actions{ flex-direction:column; }
  #moniqueApp .actions .btn{ width:100%; justify-content:center; padding:12px; font-size:14px; }
  #moniqueApp .btn.add{ padding:10px 12px; }

  /* ì§€ë„ */
  #moniqueApp .map-iframe{ height:220px; }
  #moniqueApp .dir-row{ flex-direction:column; }
  #moniqueApp .dir-row .btn{ width:100%; justify-content:center; text-align:center; padding:12px; }

  /* í•˜ë‹¨ íˆì–´ë¡œ */
  #moniqueApp .hero{ padding:12px; border-radius:16px; }
  #moniqueApp .hero-img{ height:200px; border-radius:12px; }
  #moniqueApp .hero h1{ font-size:16px; }
  #moniqueApp .badge{ padding:5px 8px; font-size:11px; }

  /* í•©ê³„ ì˜ì—­ */
  #moniqueApp .totals{ padding:10px; }
  #moniqueApp .totals .row{ font-size:12px; }
  #moniqueApp .totals .row strong{ font-size:14px; }

  /* ì£¼ë¬¸ì„œ í…ìŠ¤íŠ¸ì˜ì—­ */
  #moniqueApp #orderText{ font-size:13px; min-height:140px; }

  /* ì„¤ì • ì˜ì—­ */
  #moniqueApp .pillnote{ font-size:11.5px; padding:8px 10px; border-radius:12px; }
}
</style>

<div id="moniqueApp">
  <!-- TOP -->
  <div class="top">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div class="brand-title">
        <strong id="storeNameUI">MONIQUE</strong>
        <span id="storeAreaUI">Seogwipo Â· Jungmun Â· Jeju</span>
      </div>
    </div>
    <div class="nav">
      <button class="chip primary" onclick="moniqueScroll('menu')">QR ë©”ë‰´<span class="chip-en">QRèœå•</span></button>
      <button class="chip" onclick="moniqueScroll('takeout')">í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸<span class="chip-en">å¤–å¸¦ç‚¹å•</span></button>
      <button class="chip" onclick="moniqueScroll('location')">ì˜¤ì‹œëŠ” ê¸¸<span class="chip-en">äº¤é€šæŒ‡å—</span></button>
    </div>
  </div>

  <!-- ì¹´í˜ ì†Œê°œ ë°°ë„ˆ (í•œ/ì¤‘) -->
  <div class="intro-banner">
    <h1>ì„œê·€í¬ì¹´í˜ Â· ì„œê·€í¬ì¤‘ë¬¸ì¹´í˜ Â· ì œì£¼ë„ì¹´í˜ ï½œ MONIQUE</h1>
    <p class="intro-desc">
      QRë¡œ ë©”ë‰´ í™•ì¸í•˜ê³ , í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸ì„œë¥¼ ë§Œë“¤ì–´ <b>ìœ„ì±—</b>ìœ¼ë¡œ ë°”ë¡œ ë³´ë‚´ì„¸ìš”.
    </p>
    <div class="intro-lang">
      <b>ä¸­æ–‡</b> è¥¿å½’æµ¦å’–å•¡å… Â· ä¸­æ–‡å’–å•¡å… Â· æµå·å²›å’–å•¡å… ï½œ MONIQUE<br>
      æ‰«æQRç æŸ¥çœ‹èœå•ï¼Œç”Ÿæˆå¤–å¸¦è®¢å•ï¼Œé€šè¿‡<b>å¾®ä¿¡</b>ç›´æ¥å‘é€ã€‚
    </div>
  </div>

  <div class="grid">
    <!-- LEFT: MENU -->
    <section class="card" id="menu">
      <div class="head">
        <div>
          <h2>ë©”ë‰´ èœå•</h2>
          <p>QRë¡œ ë©”ë‰´ë¥¼ í™•ì¸í•˜ì„¸ìš” / æ‰«æQRç æŸ¥çœ‹èœå•</p>
        </div>
        <div class="small" style="text-align:right;">
          â€¢ ì•„ë©”ë¦¬ì¹´ë…¸ í…Œì´í¬ì•„ì›ƒ ç¾å¼å¤–å¸¦ -0.5<br>
          â€¢ í…€ë¸”ëŸ¬(ê°œì¸ì»µ) í• ì¸ è‡ªå¸¦æ¯ä¼˜æƒ  -0.2
        </div>
      </div>

      <div class="body">
        <div class="section-title">SIGNATURE <small>ëŒ€í‘œë©”ë‰´ æ‹›ç‰Œæ¨è</small></div>
        <div class="menu-list" id="menu-signature"></div>

        <div class="divider"></div>

        <div class="section-title">COFFEE å’–å•¡ <small>(DECAF ë””ì¹´í˜ì¸ ë³€ê²½ê°€ëŠ¥ å¯æ¢ä½å› )</small></div>
        <div class="menu-list" id="menu-coffee"></div>
        <div class="pillnote">
          <b>ì¶”ê°€ ì˜µì…˜ é™„åŠ é€‰é¡¹</b><br>
          ìƒ·ì¶”ê°€ åŠ æµ“ 0.7 Â· ì˜¤íŠ¸ë°€í¬ ë³€ê²½ æ¢ç‡•éº¦å¥¶ 0.5 Â· ì¹´ë¼ë©œ/í—¤ì´ì¦ë„›ì‹œëŸ½ ç„¦ç³–/æ¦›æœç³–æµ† 0.5
        </div>

        <div class="section-title">AFFOGATO é˜¿èŠ™ä½³æœµ <small>(HÃ¤agen-Dazs)</small></div>
        <div class="menu-list" id="menu-affogato"></div>

        <div class="section-title">COFFEE COCKTAIL å’–å•¡é¸¡å°¾é…’ <small>(å«é…’ç²¾ alcohol)</small></div>
        <div class="menu-list" id="menu-cocktail"></div>

        <div class="section-title">NON COFFEE éå’–å•¡é¥®å“</div>
        <div class="pillnote" style="margin-top:0;">
          <b>ì¹´í…Œê³ ë¦¬ åˆ†ç±»</b><br>
          (LATTE æ‹¿é“) Â· (SMOOTHIE å†°æ²™) Â· (ADE æœæ±æ°”æ³¡)
        </div>
        <div class="menu-list" id="menu-noncoffee"></div>

        <div class="section-title">TEA èŒ¶ <small>(Mariage FrÃ¨res)</small></div>
        <div class="menu-list" id="menu-tea"></div>

        <div class="divider"></div>
        <div class="pillnote">
          <b>ğŸ“¸ ë©”ë‰´ ì‚¬ì§„ ìë™ ì—°ê²° ê·œì¹™ èœå•å›¾ç‰‡è‡ªåŠ¨å…³è”è§„åˆ™</b><br>
          ì›Œë“œí”„ë ˆìŠ¤ ë¯¸ë””ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì‚¬ì§„ ì—…ë¡œë“œ ì‹œ, íŒŒì¼ëª…ì— ë©”ë‰´ í‚¤ë¥¼ í¬í•¨í•˜ì„¸ìš”.<br>
          åœ¨WordPressåª’ä½“åº“ä¸Šä¼ ç…§ç‰‡æ—¶ï¼Œæ–‡ä»¶åè¯·åŒ…å«èœå•é”®å€¼ã€‚<br>
          ì˜ˆ/ä¾‹: <code>coffee_americano.jpg</code>, <code>nc_peach_smoothie.png</code>
        </div>
      </div>
    </section>

    <!-- RIGHT -->
    <aside>
      <!-- TAKEOUT -->
      <section class="card" id="takeout">
        <div class="head">
          <div>
            <h2>í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸ å¤–å¸¦ç‚¹å•</h2>
            <p>ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° â†’ ì£¼ë¬¸ì„œ ìƒì„± â†’ ìœ„ì±— ì „ì†¡<br>åŠ å…¥è´­ç‰©è½¦ â†’ ç”Ÿæˆè®¢å• â†’ é€šè¿‡å¾®ä¿¡å‘é€</p>
          </div>
        </div>

        <div class="body">
          <div id="cartArea"></div>

          <div class="totals" id="totalsBox" style="display:none;">
            <div class="row"><span>ìƒí’ˆ í•©ê³„ å°è®¡</span><span id="subtotalText">0.0</span></div>
            <div class="row"><span>í• ì¸ æŠ˜æ‰£</span><span id="discountText">0.0</span></div>
            <div class="row"><strong>ì´ ê²°ì œê¸ˆì•¡ æ€»è®¡</strong><strong id="totalText">0.0</strong></div>
          </div>

          <div class="form" id="orderForm" style="display:none;">
            <div class="field">
              <label>ì„±í•¨ å§“å</label>
              <input id="custName" placeholder="ì˜ˆ/ä¾‹: ê¹€ëª¨ë‹ˆí¬" />
            </div>
            <div class="field">
              <label>ì—°ë½ì²˜ è”ç³»æ–¹å¼</label>
              <input id="custPhone" inputmode="tel" placeholder="ì˜ˆ/ä¾‹: 01012345678" />
            </div>

            <div class="field">
              <label>í”½ì—… ì‹œê°„ å–é¤æ—¶é—´</label>
              <select id="pickupTime">
                <option value="ì¦‰ì‹œ(10~15ë¶„)">ì¦‰ì‹œ(10~15ë¶„) ç«‹å³(10~15åˆ†é’Ÿ)</option>
                <option value="20ë¶„ í›„">20ë¶„ í›„ 20åˆ†é’Ÿå</option>
                <option value="30ë¶„ í›„">30ë¶„ í›„ 30åˆ†é’Ÿå</option>
                <option value="ì‹œê°„ ì§€ì •(ë©”ëª¨ì— ì‘ì„±)">ì‹œê°„ ì§€ì •(ë©”ëª¨ì— ì‘ì„±) æŒ‡å®šæ—¶é—´(å¤‡æ³¨)</option>
              </select>
            </div>

            <div class="field">
              <label>í• ì¸ ì„ íƒ æŠ˜æ‰£é€‰æ‹©</label>
              <select id="discountMode">
                <option value="none">í• ì¸ ì—†ìŒ æ— æŠ˜æ‰£</option>
                <option value="takeout">ì•„ë©”ë¦¬ì¹´ë…¸ í…Œì´í¬ì•„ì›ƒ ç¾å¼å¤–å¸¦ -0.5</option>
                <option value="tumbler">í…€ë¸”ëŸ¬(ê°œì¸ì»µ) è‡ªå¸¦æ¯ -0.2</option>
                <option value="both">ë‘˜ ë‹¤ ì ìš© å…¨éƒ¨é€‚ç”¨</option>
              </select>
            </div>

            <div class="field full">
              <label>ìš”ì²­ì‚¬í•­ å¤‡æ³¨</label>
              <textarea id="note" placeholder="ì˜ˆ: ì–¼ìŒ ì ê²Œ, ì‹œëŸ½ ì¶”ê°€ / ä¾‹: å°‘å†°, åŠ ç³–æµ†"></textarea>
            </div>
          </div>

          <div class="actions" id="orderActions" style="display:none;">
            <button class="btn primary" onclick="buildOrder()">ì£¼ë¬¸ì„œ ìƒì„± ç”Ÿæˆè®¢å•</button>
            <button class="btn" onclick="copyOrder()">ì£¼ë¬¸ì„œ ë³µì‚¬ å¤åˆ¶è®¢å•</button>
            <button class="btn" onclick="sendWechat()">ìœ„ì±— ì „ì†¡ å¾®ä¿¡å‘é€</button>
            <button class="btn" onclick="shareSms()">ë¬¸ì ë³´ë‚´ê¸° å‘çŸ­ä¿¡</button>
            <button class="btn danger" onclick="clearCart()">ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸° æ¸…ç©ºè´­ç‰©è½¦</button>
          </div>

          <div class="divider"></div>

          <div>
            <div class="small" style="margin-bottom:6px;">ìƒì„±ëœ ì£¼ë¬¸ì„œ å·²ç”Ÿæˆçš„è®¢å•</div>
            <textarea id="orderText" style="width:100%; border:1px solid var(--line); border-radius:14px; padding:10px 12px; min-height:170px; resize:vertical;" readonly></textarea>
            <p class="small" style="margin:8px 0 0;">
              * ê²°ì œëŠ” ë§¤ì¥ì—ì„œ ì§„í–‰ (í˜„ì¥ê²°ì œ/ê³„ì¢Œì´ì²´/ë§í¬ê²°ì œ)<br>
              * ä»˜æ¬¾æ–¹å¼è¯·åœ¨åº—å†…ç¡®è®¤ï¼ˆç°åœºæ”¯ä»˜/è½¬è´¦/é“¾æ¥æ”¯ä»˜ï¼‰
            </p>
          </div>
        </div>
      </section>

      <!-- LOCATION + MAP -->
      <section class="card" id="location" style="margin-top:16px;">
        <div class="head">
          <div>
            <h2>ì˜¤ì‹œëŠ” ê¸¸ äº¤é€šæŒ‡å—</h2>
            <p>ì§€ë„ + ê¸¸ì°¾ê¸° / åœ°å›¾ + å¯¼èˆª</p>
          </div>
        </div>
        <div class="body">
          <div class="pillnote" style="margin-top:0;">
            <b>ì£¼ì†Œ åœ°å€</b>: <span id="storeAddrUI">ì•„ë˜ "ê°€ê²Œ ì •ë³´"ì—ì„œ ì…ë ¥í•˜ì„¸ìš”</span><br>
            <b>ì „í™” ç”µè¯</b>: <span id="storeTelUI">-</span><br>
            <b>ì˜ì—…ì‹œê°„ è¥ä¸šæ—¶é—´</b>: <span id="hoursTextUI">ì•„ë˜ì—ì„œ ì„¤ì •í•˜ì„¸ìš”</span>
          </div>

          <div class="map-wrap" style="margin-top:10px;">
            <iframe id="gmapFrame"
              class="map-iframe"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              src=""
              allowfullscreen>
            </iframe>
          </div>

          <div class="dir-row">
            <a class="btn" id="btnNaver" target="_blank" rel="noopener">ë„¤ì´ë²„ ê¸¸ì°¾ê¸° Naverå¯¼èˆª</a>
            <a class="btn" id="btnKakaoMap" target="_blank" rel="noopener">ì¹´ì¹´ì˜¤ ê¸¸ì°¾ê¸° Kakaoå¯¼èˆª</a>
            <a class="btn" id="btnGoogleMap" target="_blank" rel="noopener">êµ¬ê¸€ ê¸¸ì°¾ê¸° Googleå¯¼èˆª</a>
          </div>

          <div class="small" style="margin-top:10px;">
            * ì™¸êµ­ì¸ ê³ ê°ì€ Google Mapsë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤<br>
            * å¤–å›½å®¢äººæ¨èä½¿ç”¨Google Mapså¯¼èˆª
          </div>
        </div>
      </section>

      <!-- QR -->
      <!-- SETTINGS (SEO/Schema í•µì‹¬) -->
      <section class="card" style="margin-top:16px;">
        <div class="head">
          <div>
            <h2>ê°€ê²Œ ì •ë³´ (SEO/êµ¬ê¸€ë…¸ì¶œ í•µì‹¬)</h2>
            <p>ì£¼ì†Œ/ì¢Œí‘œ/ì˜ì—…ì‹œê°„/ì§€ë„ ì„ë² ë“œ/ìœ„ì±— ë§í¬ë¥¼ ì±„ìš°ë©´ ê²€ìƒ‰ ë…¸ì¶œì— ìœ ë¦¬í•©ë‹ˆë‹¤.</p>
          </div>
        </div>
        <div class="body">
          <div class="form" style="margin:0;">
            <div class="field">
              <label>ê°€ê²Œëª…</label>
              <input id="storeName" value="MONIQUE" />
            </div>
            <div class="field">
              <label>ëŒ€í‘œ ì „í™”ë²ˆí˜¸</label>
              <input id="storePhone" value="01000000000" inputmode="tel" />
            </div>

            <div class="field full">
              <label>ì£¼ì†Œ(ì „ì²´)</label>
              <input id="storeAddress" value="ì„œê·€í¬ì‹œ ì¤‘ë¬¸ ... (ì „ì²´ ì£¼ì†Œ ì…ë ¥)" />
            </div>

            <div class="field">
              <label>ìœ„ë„(lat)</label>
              <input id="storeLat" value="33.000000" />
            </div>
            <div class="field">
              <label>ê²½ë„(lng)</label>
              <input id="storeLng" value="126.000000" />
            </div>

            <div class="field full">
              <label>êµ¬ê¸€ ì§€ë„ Embed URL (í•„ìˆ˜)</label>
              <input id="googleEmbedUrl" value="https://www.google.com/maps/embed?pb=âœ…ì—¬ê¸°ì—_êµ¬ê¸€ì„ë² ë“œURL" />
              <div class="small">êµ¬ê¸€ì§€ë„ â†’ ê³µìœ  â†’ ì§€ë„ í¼ê°€ê¸° â†’ &lt;iframe src="..."&gt; ì˜ srcë¥¼ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.</div>
            </div>

            <div class="field full">
              <label>ìœ„ì±— ë§í¬ å¾®ä¿¡é“¾æ¥ (ì£¼ë¬¸ ì—°ê²° è®¢å•å¯¹æ¥)</label>
              <input id="wechatUrl" value="" placeholder="ìœ„ì±— ë¯¸ë‹ˆí”„ë¡œê·¸ë¨ ë˜ëŠ” ê³µì‹ê³„ì • ë§í¬" />
            </div>

            <div class="field full">
              <label>ë©”ë‰´ ì´ë¯¸ì§€ ìë™ê²€ìƒ‰ ON/OFF</label>
              <select id="autoImageMode">
                <option value="on" selected>ON (ë¯¸ë””ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ìë™ê²€ìƒ‰)</option>
                <option value="off">OFF (ì´ë¯¸ì§€ ìë™ê²€ìƒ‰ ì•ˆí•¨)</option>
              </select>
              <div class="small">
                ONì¼ ë•Œ: ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ íŒŒì¼ëª…/ì œëª©ì— ë©”ë‰´ í‚¤(ì˜ˆ: coffee_americano)ê°€ í¬í•¨ë˜ë©´ ìë™ ì—°ê²°ë©ë‹ˆë‹¤.
              </div>
            </div>

            <div class="field full">
              <label>ì˜ì—…ì‹œê°„ ì„¤ì • (ìŠ¤í‚¤ë§ˆ + í™”ë©´ í‘œì‹œ)</label>
              <div class="small" style="margin-top:-2px;">
                ì˜ˆ: ì›”~ê¸ˆ 10:00-19:00, í†  10:00-20:00, ì¼ íœ´ë¬´ ë“±
              </div>
            </div>

            <!-- Opening hours table -->
            <div class="field full" style="gap:10px;">
              <div style="display:grid; grid-template-columns: 110px 1fr 1fr 1fr; gap:8px; align-items:center;">
                <div class="small"><b>ìš”ì¼</b></div>
                <div class="small"><b>ì˜¤í”ˆ</b></div>
                <div class="small"><b>ë§ˆê°</b></div>
                <div class="small"><b>íœ´ë¬´</b></div>

                <div class="small">ì›”</div>
                <input id="h_mon_open" placeholder="10:00" />
                <input id="h_mon_close" placeholder="19:00" />
                <input id="h_mon_closed" type="checkbox" />

                <div class="small">í™”</div>
                <input id="h_tue_open" placeholder="10:00" />
                <input id="h_tue_close" placeholder="19:00" />
                <input id="h_tue_closed" type="checkbox" />

                <div class="small">ìˆ˜</div>
                <input id="h_wed_open" placeholder="10:00" />
                <input id="h_wed_close" placeholder="19:00" />
                <input id="h_wed_closed" type="checkbox" />

                <div class="small">ëª©</div>
                <input id="h_thu_open" placeholder="10:00" />
                <input id="h_thu_close" placeholder="19:00" />
                <input id="h_thu_closed" type="checkbox" />

                <div class="small">ê¸ˆ</div>
                <input id="h_fri_open" placeholder="10:00" />
                <input id="h_fri_close" placeholder="19:00" />
                <input id="h_fri_closed" type="checkbox" />

                <div class="small">í† </div>
                <input id="h_sat_open" placeholder="10:00" />
                <input id="h_sat_close" placeholder="20:00" />
                <input id="h_sat_closed" type="checkbox" />

                <div class="small">ì¼</div>
                <input id="h_sun_open" placeholder="10:00" />
                <input id="h_sun_close" placeholder="18:00" />
                <input id="h_sun_closed" type="checkbox" />
              </div>
              <div class="actions" style="margin-top:10px;">
                <button class="btn" onclick="saveHours()">ì˜ì—…ì‹œê°„ ì €ì¥</button>
                <button class="btn" onclick="loadHours(true)">ê¸°ë³¸ê°’ìœ¼ë¡œ ì±„ìš°ê¸°</button>
              </div>
            </div>

            <div class="field full">
              <label>ì•ˆë‚´ ë¬¸êµ¬(ì„ íƒ)</label>
              <input id="storeNotice" value="í”½ì—… ì „ í™•ì¸ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ì£¼ì‹œë©´ ë” ë¹ ë¥´ê²Œ ì¤€ë¹„í•´ë“œë¦½ë‹ˆë‹¤." />
            </div>
          </div>

          <div class="divider"></div>
          <div class="pillnote">
            <b>SEO í‚¤ì›Œë“œ(í˜ì´ì§€ì— ì´ë¯¸ í¬í•¨ë¨)</b><br>
            ì„œê·€í¬ì¹´í˜ Â· ì„œê·€í¬ì¤‘ë¬¸ì¹´í˜ Â· ì œì£¼ë„ì¹´í˜ Â· Jungmun Cafe Â· Seogwipo Cafe Â· æµå·å²›å’–å•¡é¦†
          </div>
        </div>
      </section>
    </aside>
  </div>

  <!-- HERO: ì¹´í˜ ì†Œê°œ (í•˜ë‹¨) -->
  <div class="hero" id="intro">
    <div class="hero-img">
      <img id="cafeHeroImg" src="" alt="MONIQUE ì¹´í˜ ì „ê²½">
      <div class="hero-img-placeholder">ì¹´í˜ ëŒ€í‘œ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•˜ì„¸ìš” è¯·ä¸Šä¼ å’–å•¡å…ä»£è¡¨å›¾ç‰‡<br><small>ê¶Œì¥ ì‚¬ì´ì¦ˆ æ¨èå°ºå¯¸: 1200Ã—500px</small></div>
    </div>
    <h1>ì„œê·€í¬ì¹´í˜ Â· ì„œê·€í¬ì¤‘ë¬¸ì¹´í˜ Â· ì œì£¼ë„ì¹´í˜ ï½œ MONIQUE</h1>
    <p class="sub">
      QRë¡œ ë©”ë‰´ í™•ì¸í•˜ê³ , í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸ì„œë¥¼ ë§Œë“¤ì–´ <b>ìœ„ì±—</b>ìœ¼ë¡œ ë°”ë¡œ ë³´ë‚´ì„¸ìš”.
      <span class="small">ä¸­æ–‡ ì•ˆë‚´ë„ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</span>
    </p>

    <div class="badgeRow">
      <div class="badge">ì„œê·€í¬ì¹´í˜</div>
      <div class="badge">ì„œê·€í¬ì¤‘ë¬¸ì¹´í˜</div>
      <div class="badge">ì œì£¼ë„ì¹´í˜</div>
      <div class="badge">ì™¸å¸¦ Takeout</div>
      <div class="badge">ä¸­æ–‡èœå•</div>
    </div>

    <div class="divider"></div>
    <div class="small">
      MONIQUEëŠ” ì œì£¼ ì„œê·€í¬ ì¤‘ë¬¸ì— ìœ„ì¹˜í•œ ì¹´í˜ì…ë‹ˆë‹¤. ì»¤í”¼Â·ë””ì¹´í˜ì¸Â·ë””ì €íŠ¸Â·í‹°, í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸ ì§€ì›.<br>
      MONIQUE ä½äºæµå·å²›è¥¿å½’æµ¦Â·ä¸­æ–‡ã€‚æä¾›å’–å•¡/æ— å’–å•¡å› ã€ç”œç‚¹å’ŒèŒ¶ï¼Œæ”¯æŒå¤–å¸¦ç‚¹å•ã€‚
    </div>
  </div>

  <!-- âœ… êµ¬ì¡°í™” ë°ì´í„° (Schema.org) -->
  <script type="application/ld+json" id="schemaJson">
  {
    "@context": "https://schema.org",
    "@type": "CafeOrCoffeeShop",
    "name": "MONIQUE",
    "url": "",
    "telephone": "",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Seogwipo-si",
      "addressRegion": "Jeju-do",
      "addressCountry": "KR",
      "streetAddress": ""
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": "",
      "longitude": ""
    },
    "openingHoursSpecification": [],
    "servesCuisine": ["Coffee", "Dessert", "Tea"],
    "priceRange": "â‚©â‚©",
    "areaServed": ["Seogwipo", "Jungmun", "Jeju"],
    "inLanguage": ["ko", "en", "zh"]
  }
  </script>
</div>

<script>
/* ======================
  MENU DATA (ì´ë¯¸ì§€ ìë™ê²€ìƒ‰ í‚¤: id)
  - img ë¹„ì›Œë‘ë©´ WP ë¯¸ë””ì–´ì—ì„œ ìë™ê²€ìƒ‰í•´ ë¶™ì…ë‹ˆë‹¤.
====================== */
const MENU = {
  signature: [
    { id:"sig_cheesecake_vanilla", name:"ê¾¸ë•ì´ ì¹˜ì¦ˆì¼€ì´í¬ (ë°”ë‹ë¼)", en:"Dense Cheesecake (Vanilla)", zh:"æµ“éƒèŠå£«è›‹ç³•ï¼ˆé¦™è‰ï¼‰", price:6.5, desc:"ì§„í•˜ê³  ê¾¸ë•í•œ ë°”ë‹ë¼ ì¹˜ì¦ˆì¼€ì´í¬", img:"" },
    { id:"sig_cheesecake_chestnut", name:"ê¾¸ë•ì´ ì¹˜ì¦ˆì¼€ì´í¬ (ë°¤)", en:"Dense Cheesecake (Chestnut)", zh:"æµ“éƒèŠå£«è›‹ç³•ï¼ˆæ —å­ï¼‰", price:7.0, desc:"ê³ ì†Œí•œ ë°¤ì´ ë“¤ì–´ê°„ ê¾¸ë• ì¹˜ì¦ˆì¼€ì´í¬", img:"" },
    { id:"sig_ferrero_financier", name:"í˜ë ˆë¡œë¡œì‰ íœ˜ë‚­ì‹œì—", en:"Ferrero Rocher Financier", zh:"è´¹åˆ—ç½—é‡‘èå®¶è›‹ç³•", price:4.5, desc:"í˜ë ˆë¡œë¡œì‰ë¥¼ ì˜¬ë¦° ë°”ì‚­í•œ íœ˜ë‚­ì‹œì—", img:"" },
    { id:"coffee_americano", name:"ì•„ë©”ë¦¬ì¹´ë…¸", en:"Americano", zh:"ç¾å¼å’–å•¡", price:4.2, desc:"", img:"", isRef:true },
    { id:"coffee_monique", name:"ëª¨ë‹ˆí¬ë¼ë–¼ SIGNATURE (ONLY ICE)", en:"Monique Latte Signature (Ice Only)", zh:"è«å°¼å…‹æ‹¿é“ æ‹›ç‰Œï¼ˆä»…å†°ï¼‰", price:6.2, desc:"ê³ ì†Œí•œ í† í”¼ë„›í¬ë¦¼ì´ ì˜¬ë¼ê°„ ëª¨ë‹ˆí¬ ì‹œê·¸ë‹ˆì²˜ ë¼ë–¼", img:"", isRef:true }
  ],
  coffee: [
    { id:"coffee_espresso", name:"ì—ìŠ¤í”„ë ˆì†Œ", en:"Espresso", zh:"æµ“ç¼©å’–å•¡", price:3.5, desc:"", img:"" },
    { id:"coffee_americano", name:"ì•„ë©”ë¦¬ì¹´ë…¸", en:"Americano", zh:"ç¾å¼å’–å•¡", price:4.2, desc:"", img:"" },
    { id:"coffee_big_americano", name:"ë¹… ì•„ë©”ë¦¬ì¹´ë…¸ (ONLY ICE & T/O)", en:"Big Americano (Ice Only & T/O)", zh:"å¤§æ¯ç¾å¼ï¼ˆä»…å†°&å¤–å¸¦ï¼‰", price:5.7, desc:"", img:"" },
    { id:"coffee_latte", name:"ì¹´í˜ë¼ë–¼", en:"Cafe Latte", zh:"æ‹¿é“å’–å•¡", price:4.7, desc:"", img:"" },
    { id:"coffee_big_latte", name:"ë¹… ì¹´í˜ë¼ë–¼ (ONLY ICE & T/O)", en:"Big Cafe Latte (Ice Only & T/O)", zh:"å¤§æ¯æ‹¿é“ï¼ˆä»…å†°&å¤–å¸¦ï¼‰", price:6.2, desc:"", img:"" },
    { id:"coffee_cappuccino", name:"ì¹´í‘¸ì¹˜ë…¸ (ONLY HOT)", en:"Cappuccino (Hot Only)", zh:"å¡å¸ƒå¥‡è¯ºï¼ˆä»…çƒ­ï¼‰", price:4.7, desc:"", img:"" },
    { id:"coffee_vanilla", name:"ë°”ë‹ë¼ë¼ë–¼", en:"Vanilla Latte", zh:"é¦™è‰æ‹¿é“", price:5.2, desc:"", img:"" },
    { id:"coffee_condensed", name:"ì—°ìœ ë¼ë–¼", en:"Condensed Milk Latte", zh:"ç‚¼ä¹³æ‹¿é“", price:5.2, desc:"", img:"" },
    { id:"coffee_cream", name:"í¬ë¦¼ë¼ë–¼ (ONLY ICE)", en:"Cream Latte (Ice Only)", zh:"å¥¶æ²¹æ‹¿é“ï¼ˆä»…å†°ï¼‰", price:5.7, desc:"", img:"" },
    { id:"coffee_monique", name:"ëª¨ë‹ˆí¬ë¼ë–¼ SIGNATURE (ONLY ICE)", en:"Monique Latte Signature (Ice Only)", zh:"è«å°¼å…‹æ‹¿é“ æ‹›ç‰Œï¼ˆä»…å†°ï¼‰", price:6.2, desc:"ê³ ì†Œí•œ í† í”¼ë„›í¬ë¦¼ì´ ì˜¬ë¼ê°„ ëª¨ë‹ˆí¬ ì‹œê·¸ë‹ˆì²˜ ë¼ë–¼", img:"" }
  ],
  affogato: [
    { id:"affogato", name:"ì•„í¬ê°€í† ", en:"Affogato", zh:"é˜¿èŠ™ä½³æœµ", price:6.5, desc:"", img:"" },
    { id:"affogato_mint", name:"ë¯¼íŠ¸ ì•„í¬ê°€í† ", en:"Mint Affogato", zh:"è–„è·é˜¿èŠ™ä½³æœµ", price:6.5, desc:"", img:"" },
    { id:"affogato_jejuma", name:"ì œì£¼ë§ì°¨ ì•„í¬ê°€í† ", en:"Jeju Matcha Affogato", zh:"æµå·æŠ¹èŒ¶é˜¿èŠ™ä½³æœµ", price:7.0, desc:"", img:"" }
  ],
  cocktail: [
    { id:"cocktail_espresso_martini", name:"ì—ìŠ¤í”„ë ˆì†Œ ë§ˆí‹°ë‹ˆ", en:"Espresso Martini", zh:"æµ“ç¼©å’–å•¡é©¬å¤©å°¼", price:7.0, desc:"ë³´ë“œì¹´ ë² ì´ìŠ¤ì˜ ë‹¬ì½¤í•˜ê³  ë¶€ë“œëŸ¬ìš´ ì»¤í”¼ ì¹µí…Œì¼", img:"" }
  ],
  noncoffee: [
    { id:"nc_sweetpotato", name:"(LATTE) ê³ êµ¬ë§ˆë¼ë–¼", en:"Sweet Potato Latte", zh:"çº¢è–¯æ‹¿é“", price:5.0, desc:"", img:"" },
    { id:"nc_choco", name:"(LATTE) ì´ˆì½”ë¼ë–¼", en:"Chocolate Latte", zh:"å·§å…‹åŠ›æ‹¿é“", price:5.0, desc:"", img:"" },
    { id:"nc_strawberry_latte", name:"(LATTE) ë”¸ê¸°ë¼ë–¼ (ONLY ICE)", en:"Strawberry Latte (Ice Only)", zh:"è‰è“æ‹¿é“ï¼ˆä»…å†°ï¼‰", price:5.5, desc:"", img:"" },
    { id:"nc_matcha_latte", name:"(LATTE) ì œì£¼ë§ì°¨ë¼ë–¼", en:"Jeju Matcha Latte", zh:"æµå·æŠ¹èŒ¶æ‹¿é“", price:6.0, desc:"", img:"" },
    { id:"nc_peach_smoothie", name:"(SMOOTHIE) ë³µìˆ­ì•„ìŠ¤ë¬´ë””", en:"Peach Smoothie", zh:"èœœæ¡ƒå†°æ²™", price:6.0, desc:"(ì½”ì½”ë„›ì ¤ë¦¬ê°€ ë“¤ì–´ê°€ìš”)", img:"" },
    { id:"nc_corn_smoothie", name:"(SMOOTHIE) ì˜¥ìˆ˜ìˆ˜ìŠ¤ë¬´ë””", en:"Corn Smoothie", zh:"ç‰ç±³å†°æ²™", price:6.0, desc:"", img:"" },
    { id:"nc_hibiscus_ade", name:"(ADE) íˆë¹„ìŠ¤ì»¤ìŠ¤ë ˆëª¬ì—ì´ë“œ", en:"Hibiscus Lemonade", zh:"èŠ™è“‰æŸ æª¬æ°´", price:5.0, desc:"", img:"" },
    { id:"nc_greengrape_ade", name:"(ADE) ì²­í¬ë„ì—ì´ë“œ", en:"Green Grape Ade", zh:"é’è‘¡è„æœæ±", price:5.0, desc:"(ì½”ì½”ë„›ì ¤ë¦¬ê°€ ë“¤ì–´ê°€ìš”)", img:"" },
    { id:"nc_real_strawberry_juice", name:"ë¦¬ì–¼ ë”¸ë°”ì£¼ìŠ¤ (ì‹œì¦Œí•œì •)", en:"Real Strawberry-Banana Juice (Seasonal)", zh:"é²œæ¦¨è‰è“é¦™è•‰æ±ï¼ˆå­£èŠ‚é™å®šï¼‰", price:6.5, desc:"", img:"" }
  ],
  tea: [
    { id:"tea_marco_polo", name:"ë§ˆë¥´ì½”í´ë¡œ BEST!", en:"Marco Polo BEST!", zh:"é©¬å¯æ³¢ç½— äººæ°”!", price:5.0, desc:"ë² ë¦¬ë¥˜ ê³¼ì¼í–¥ê³¼ ê½ƒí–¥ì´ ëŠê»´ì§€ëŠ” í™ì°¨", img:"" },
    { id:"tea_wedding", name:"ì›¨ë”©ì„í˜ë¦¬ì–¼", en:"Wedding Imperial", zh:"å©šç¤¼å¸å›½çº¢èŒ¶", price:5.0, desc:"ì•„ìŒˆ ë² ì´ìŠ¤ Â· ì¹´ë¼ë©œ/ì´ˆì½œë¦¿ í–¥", img:"" },
    { id:"tea_eros", name:"ì—ë¡œìŠ¤", en:"Eros", zh:"å„æ´›æ–¯èŠ±èŒ¶", price:5.0, desc:"íˆë¹„ìŠ¤ì»¤ìŠ¤&ê½ƒì ë¸”ë Œë”© í™ì°¨", img:"" },
    { id:"tea_casablanca", name:"ì¹´ì‚¬ë¸”ë‘ì¹´", en:"Casablanca", zh:"å¡è¨å¸ƒå…°å¡", price:5.0, desc:"í™ì°¨/ë…¹ì°¨ ë¸”ë Œë”© Â· ë¯¼íŠ¸ì˜ ì²­ëŸ‰ê°", img:"" },
    { id:"tea_marco_rouge_decaf", name:"ë§ˆë¥´ì½”í´ë¡œ ë£¨ì¦ˆ (DECAF)", en:"Marco Polo Rouge (Decaf)", zh:"é©¬å¯æ³¢ç½—çº¢ï¼ˆæ— å’–å•¡å› ï¼‰", price:5.0, desc:"ë£¨ì´ë³´ìŠ¤ ë¸”ë Œë”© Â· ë² ë¦¬ì˜ ë‹¬ì½¤í•¨", img:"" }
  ]
};

const CART_KEY = "monique_cart_v3";
const HOURS_KEY = "monique_hours_v1";
const IMG_CACHE_KEY = "monique_img_cache_v1";
let cart = loadCart();

/* ê°€ê²© í‘œì‹œëŠ” ë©”ë‰´íŒ ë‹¨ìœ„(ì˜ˆ: 4.2) ìœ ì§€ */
const KRW = (v) => `${v.toFixed(1)}`;

function moniqueScroll(id){
  const el = document.getElementById(id);
  if(el) el.scrollIntoView({behavior:"smooth", block:"start"});
}

function escapeHtml(str){
  return String(str)
    .replaceAll("&","&amp;")
    .replaceAll("<","&lt;")
    .replaceAll(">","&gt;")
    .replaceAll('"',"&quot;")
    .replaceAll("'","&#039;");
}

/* ======================
  CART
====================== */
function loadCart(){
  try{ return JSON.parse(localStorage.getItem(CART_KEY) || "{}"); }
  catch(e){ return {}; }
}
function saveCart(){
  localStorage.setItem(CART_KEY, JSON.stringify(cart));
  renderCart();
}
function addToCart(id){
  cart[id] = (cart[id] || 0) + 1;
  saveCart();
  moniqueScroll("takeout");
}
function inc(id){ cart[id] = (cart[id] || 0) + 1; saveCart(); }
function dec(id){
  cart[id] = (cart[id] || 0) - 1;
  if(cart[id] <= 0) delete cart[id];
  saveCart();
}
function clearCart(){
  cart = {};
  saveCart();
  document.getElementById("orderText").value = "";
}

function findItemById(id){
  const all = [...MENU.signature.filter(x=>!x.isRef), ...MENU.coffee, ...MENU.affogato, ...MENU.cocktail, ...MENU.noncoffee, ...MENU.tea];
  return all.find(x => x.id === id);
}
function calcSubtotal(){
  let s = 0;
  for(const [id, qty] of Object.entries(cart)){
    const item = findItemById(id);
    if(!item) continue;
    s += item.price * qty;
  }
  return s;
}
function calcDiscount(){
  const mode = document.getElementById("discountMode")?.value || "none";
  let d = 0;
  const americanoQty = cart["coffee_americano"] || 0;
  const totalDrinkQty = Object.values(cart).reduce((a,b)=>a+b,0);

  if(mode === "takeout" || mode === "both") d += 0.5 * americanoQty;
  if(mode === "tumbler" || mode === "both") d += 0.2 * totalDrinkQty;
  return d;
}
function renderCart(){
  const area = document.getElementById("cartArea");
  const totalsBox = document.getElementById("totalsBox");
  const orderForm = document.getElementById("orderForm");
  const orderActions = document.getElementById("orderActions");

  const ids = Object.keys(cart);
  if(ids.length === 0){
    area.innerHTML = `<div class="cart-empty">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤. ë©”ë‰´ì—ì„œ "ë‹´ê¸°"ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.<br>è´­ç‰©è½¦ä¸ºç©ºï¼Œè¯·åœ¨èœå•ä¸­ç‚¹å‡»"åŠ å…¥"ã€‚</div>`;
    totalsBox.style.display = "none";
    orderForm.style.display = "none";
    orderActions.style.display = "none";
    return;
  }

  const rows = ids.map(id => {
    const item = findItemById(id);
    const qty = cart[id];
    if(!item) return "";
    const line = (item.price * qty).toFixed(1);
    return `
      <div class="cart-row">
        <div>
          <p class="cart-name">${escapeHtml(item.name)}</p>
          <p class="cart-sub">${escapeHtml(item.desc || "")} ${item.desc ? "Â· " : ""}ë‹¨ê°€å•ä»· ${KRW(item.price)} / í•©ê³„å°è®¡ ${line}</p>
        </div>
        <div class="qty">
          <button onclick="dec('${id}')" aria-label="ìˆ˜ëŸ‰ ê°ì†Œ">âˆ’</button>
          <span>${qty}</span>
          <button onclick="inc('${id}')" aria-label="ìˆ˜ëŸ‰ ì¦ê°€">+</button>
        </div>
      </div>
    `;
  }).join("");

  area.innerHTML = `<div class="cart-list">${rows}</div>`;
  totalsBox.style.display = "";
  orderForm.style.display = "";
  orderActions.style.display = "";

  const subtotal = calcSubtotal();
  const discount = calcDiscount();
  const total = Math.max(0, subtotal - discount);

  document.getElementById("subtotalText").textContent = subtotal.toFixed(1);
  document.getElementById("discountText").textContent = discount.toFixed(1);
  document.getElementById("totalText").textContent = total.toFixed(1);
}

/* ======================
  ORDER + SHARE
====================== */
function buildOrder(){
  const storeName = document.getElementById("storeName").value.trim() || "MONIQUE";
  const storeNotice = document.getElementById("storeNotice").value.trim();
  const name = document.getElementById("custName").value.trim();
  const phone = document.getElementById("custPhone").value.trim();
  const pickup = document.getElementById("pickupTime").value;
  const note = document.getElementById("note").value.trim();
  const mode = document.getElementById("discountMode").value;

  const ids = Object.keys(cart);
  if(ids.length === 0){ alert("ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤."); return; }

  const lines = [];
  lines.push(`[í…Œì´í¬ì•„ì›ƒ ì£¼ë¬¸] ${storeName}`);
  lines.push(`- ì£¼ë¬¸ì: ${name || "(ë¯¸ì…ë ¥)"} / ì—°ë½ì²˜: ${phone || "(ë¯¸ì…ë ¥)"}`);
  lines.push(`- í”½ì—…: ${pickup}`);
  lines.push(`- í• ì¸: ${mode === "takeout" ? "ì•„ë©”ë¦¬ì¹´ë…¸ í…Œì´í¬ì•„ì›ƒ -0.5" : mode === "tumbler" ? "í…€ë¸”ëŸ¬(ê°œì¸ì»µ) -0.2" : mode === "both" ? "í…Œì´í¬ì•„ì›ƒ(-0.5)+í…€ë¸”ëŸ¬(-0.2)" : "í• ì¸ ì—†ìŒ"}`);
  lines.push("");

  let subtotal = 0;
  for(const id of ids){
    const item = findItemById(id);
    if(!item) continue;
    const qty = cart[id];
    const line = item.price * qty;
    subtotal += line;
    lines.push(`â€¢ ${item.name} Ã— ${qty}  =  ${line.toFixed(1)}`);
  }

  const discount = calcDiscount();
  const total = Math.max(0, subtotal - discount);

  lines.push("");
  lines.push(`ìƒí’ˆí•©ê³„: ${subtotal.toFixed(1)}`);
  lines.push(`í• ì¸: -${discount.toFixed(1)}`);
  lines.push(`ì´ê¸ˆì•¡: ${total.toFixed(1)}`);
  lines.push("");

  if(note){
    lines.push(`[ìš”ì²­ì‚¬í•­]`);
    lines.push(note);
    lines.push("");
  }
  if(storeNotice){
    lines.push(`[ì•ˆë‚´] ${storeNotice}`);
  }

  document.getElementById("orderText").value = lines.join("\n");
  renderCart();
}

async function copyOrder(){
  const text = document.getElementById("orderText").value.trim();
  if(!text){ alert("ë¨¼ì € 'ì£¼ë¬¸ì„œ ìƒì„±'ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”."); return; }
  try{
    await navigator.clipboard.writeText(text);
    alert("ì£¼ë¬¸ì„œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.");
  }catch(e){
    alert("ë³µì‚¬ê°€ ë§‰í˜€ìˆìŠµë‹ˆë‹¤. ì£¼ë¬¸ì„œ ë‚´ìš©ì„ ì§ì ‘ ë³µì‚¬í•´ì£¼ì„¸ìš”.");
  }
}

/* âœ… ìœ„ì±—ìœ¼ë¡œ ë³´ë‚´ê¸°: ì£¼ë¬¸ì„œ ìë™ ë³µì‚¬ â†’ ìœ„ì±— ë§í¬ ì—´ê¸° */
async function sendWechat(){
  const text = document.getElementById("orderText").value.trim();
  if(!text){ alert("ë¨¼ì € 'ì£¼ë¬¸ì„œ ìƒì„±'ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”. / è¯·å…ˆç‚¹å‡»"ç”Ÿæˆè®¢å•"ã€‚"); return; }

  try{ await navigator.clipboard.writeText(text); }catch(e){ /* ignore */ }

  const url = document.getElementById("wechatUrl").value.trim();
  if(!url || !url.startsWith("http")){
    alert("ìœ„ì±— ë§í¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. / è¯·è¾“å…¥å¾®ä¿¡é“¾æ¥ã€‚");
    return;
  }
  window.open(url, "_blank");
}

function shareSms(){
  const storePhone = document.getElementById("storePhone").value.trim();
  const text = document.getElementById("orderText").value.trim();
  if(!text){ alert("ë¨¼ì € 'ì£¼ë¬¸ì„œ ìƒì„±'ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”."); return; }
  const smsLink = `sms:${encodeURIComponent(storePhone)}?&body=${encodeURIComponent(text)}`;
  window.location.href = smsLink;
}

/* ======================
  MENU RENDER + AUTO IMAGE
  - WordPress REST API: /wp-json/wp/v2/media?search=<id>
  - ìºì‹œ: localStorage
====================== */
function renderMenu(listId, items){
  const el = document.getElementById(listId);
  el.innerHTML = items.map(item => {
    const imgHtml = item.img
      ? `<div class="item-img"><span class="img-badge">Photo</span><img src="${escapeHtml(item.img)}" alt="${escapeHtml(item.name)}"></div>`
      : `<div class="item-img" data-imgkey="${escapeHtml(item.id)}"><span class="img-badge">${escapeHtml(item.id)}</span>ì´ë¯¸ì§€ ìë™ ì—°ê²° ëŒ€ê¸°</div>`;

    return `
      <div class="menu-item" data-itemid="${escapeHtml(item.id)}">
        <div class="left">
          ${imgHtml}
          <p class="name">${escapeHtml(item.name)}</p>
          ${item.en ? `<p class="name-lang">${escapeHtml(item.en)}</p>` : ``}
          ${item.zh ? `<p class="name-lang">${escapeHtml(item.zh)}</p>` : ``}
          ${item.desc ? `<p class="desc">${escapeHtml(item.desc)}</p>` : ``}
        </div>
        <div class="right">
          <div class="price">${KRW(item.price)}</div>
          <button class="btn add" onclick="addToCart('${item.id}')">ë‹´ê¸° åŠ å…¥</button>
        </div>
      </div>
    `;
  }).join("");
}

function getImgCache(){
  try{ return JSON.parse(localStorage.getItem(IMG_CACHE_KEY) || "{}"); }
  catch(e){ return {}; }
}
function setImgCache(obj){
  localStorage.setItem(IMG_CACHE_KEY, JSON.stringify(obj));
}

async function autoAttachImages(){
  const mode = document.getElementById("autoImageMode")?.value || "on";
  if(mode !== "on") return;

  const cache = getImgCache();
  const placeholders = document.querySelectorAll("#moniqueApp .item-img[data-imgkey]");
  const siteOrigin = window.location.origin;
  const endpointBase = `${siteOrigin}/wp-json/wp/v2/media?per_page=1&search=`;

  for(const ph of placeholders){
    const key = ph.getAttribute("data-imgkey");
    if(!key) continue;

    // ì´ë¯¸ ìºì‹œì— ìˆìœ¼ë©´ ì¦‰ì‹œ ë¶™ì´ê¸°
    if(cache[key]){
      ph.innerHTML = `<span class="img-badge">Auto</span><img src="${escapeHtml(cache[key])}" alt="${escapeHtml(key)}">`;
      ph.removeAttribute("data-imgkey");
      continue;
    }

    // RESTë¡œ ê²€ìƒ‰ (íŒŒì¼ëª…/ì œëª©ì— key í¬í•¨ë˜ë©´ ë§¤ì¹­ í™•ë¥  ë†’ìŒ)
    try{
      const url = endpointBase + encodeURIComponent(key);
      const res = await fetch(url, { credentials: "omit" });
      if(!res.ok) continue;
      const arr = await res.json();
      if(Array.isArray(arr) && arr.length > 0 && arr[0].source_url){
        const imgUrl = arr[0].source_url;
        cache[key] = imgUrl;
        ph.innerHTML = `<span class="img-badge">Auto</span><img src="${escapeHtml(imgUrl)}" alt="${escapeHtml(key)}">`;
        ph.removeAttribute("data-imgkey");
      }
    }catch(e){
      // ì¡°ìš©íˆ ì‹¤íŒ¨
    }
  }
  setImgCache(cache);
}

/* ======================
  MAP + DIRECTIONS
====================== */
function updateMapAndDirections(){
  const name = document.getElementById("storeName").value.trim() || "MONIQUE";
  const addr = document.getElementById("storeAddress").value.trim();
  const lat = document.getElementById("storeLat").value.trim();
  const lng = document.getElementById("storeLng").value.trim();
  const tel = document.getElementById("storePhone").value.trim();

  document.getElementById("storeNameUI").textContent = name;
  document.getElementById("storeAddrUI").textContent = addr || "ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”";
  document.getElementById("storeTelUI").textContent = tel || "-";

  const embed = document.getElementById("googleEmbedUrl").value.trim();
  const gframe = document.getElementById("gmapFrame");
  if(embed && embed.startsWith("http")){
    gframe.src = embed;
  }else{
    gframe.src = "";
  }

  // ê¸¸ì°¾ê¸° ë§í¬ êµ¬ì„± (ì¢Œí‘œ ìˆìœ¼ë©´ ë” ì •í™•)
  const q = encodeURIComponent(addr || name);
  const ll = (lat && lng) ? `${lat},${lng}` : "";
  const place = encodeURIComponent(name);

  // Google Maps: dir
  const gLink = ll
    ? `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(ll)}&destination_place_id=&travelmode=driving`
    : `https://www.google.com/maps/search/?api=1&query=${q}`;
  document.getElementById("btnGoogleMap").href = gLink;

  // Naver Maps (ì¢Œí‘œ + ì¥ì†Œëª…)
  // í˜•ì‹ì€ í™˜ê²½ë³„ë¡œ ë™ì‘ ì°¨ì´ê°€ ìˆì–´ "query" ì¤‘ì‹¬ìœ¼ë¡œ ì•ˆì •í™”
  const nLink = ll
    ? `https://map.naver.com/v5/search/${encodeURIComponent(addr || name)}?c=${encodeURIComponent(lng)},${encodeURIComponent(lat)},15,0,0,0,dh`
    : `https://map.naver.com/v5/search/${encodeURIComponent(addr || name)}`;
  document.getElementById("btnNaver").href = nLink;

  // Kakao Maps
  const kLink = ll
    ? `https://map.kakao.com/link/to/${place},${encodeURIComponent(lat)},${encodeURIComponent(lng)}`
    : `https://map.kakao.com/link/search/${q}`;
  document.getElementById("btnKakaoMap").href = kLink;
}

/* ======================
  OPENING HOURS (UI + Schema)
====================== */
const DAYS = [
  { key:"mon", label:"ì›”", schema:"Monday" },
  { key:"tue", label:"í™”", schema:"Tuesday" },
  { key:"wed", label:"ìˆ˜", schema:"Wednesday" },
  { key:"thu", label:"ëª©", schema:"Thursday" },
  { key:"fri", label:"ê¸ˆ", schema:"Friday" },
  { key:"sat", label:"í† ", schema:"Saturday" },
  { key:"sun", label:"ì¼", schema:"Sunday" }
];

function defaultHours(){
  return {
    mon:{open:"10:00", close:"19:00", closed:false},
    tue:{open:"10:00", close:"19:00", closed:false},
    wed:{open:"10:00", close:"19:00", closed:false},
    thu:{open:"10:00", close:"19:00", closed:false},
    fri:{open:"10:00", close:"19:00", closed:false},
    sat:{open:"10:00", close:"20:00", closed:false},
    sun:{open:"10:00", close:"18:00", closed:false}
  };
}

function loadHours(fillDefault=false){
  let h = null;
  try{ h = JSON.parse(localStorage.getItem(HOURS_KEY) || "null"); }catch(e){}
  if(!h || fillDefault) h = defaultHours();

  for(const d of DAYS){
    document.getElementById(`h_${d.key}_open`).value = h[d.key]?.open || "";
    document.getElementById(`h_${d.key}_close`).value = h[d.key]?.close || "";
    document.getElementById(`h_${d.key}_closed`).checked = !!h[d.key]?.closed;
  }
  localStorage.setItem(HOURS_KEY, JSON.stringify(h));
  updateSchema();
  updateHoursTextUI(h);
}

function saveHours(){
  const h = {};
  for(const d of DAYS){
    h[d.key] = {
      open: document.getElementById(`h_${d.key}_open`).value.trim(),
      close: document.getElementById(`h_${d.key}_close`).value.trim(),
      closed: document.getElementById(`h_${d.key}_closed`).checked
    };
  }
  localStorage.setItem(HOURS_KEY, JSON.stringify(h));
  updateSchema();
  updateHoursTextUI(h);
  alert("ì˜ì—…ì‹œê°„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
}

function updateHoursTextUI(h){
  const parts = [];
  for(const d of DAYS){
    const x = h[d.key];
    if(!x) continue;
    parts.push(`${d.label} ${x.closed ? "íœ´ë¬´" : `${x.open}-${x.close}`}`);
  }
  document.getElementById("hoursTextUI").textContent = parts.join(" Â· ");
}

function buildOpeningHoursSpec(){
  let h = null;
  try{ h = JSON.parse(localStorage.getItem(HOURS_KEY) || "null"); }catch(e){}
  if(!h) h = defaultHours();

  const specs = [];
  for(const d of DAYS){
    const x = h[d.key];
    if(!x || x.closed) continue;
    if(!x.open || !x.close) continue;
    specs.push({
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": d.schema,
      "opens": x.open,
      "closes": x.close
    });
  }
  return { specs, hours: h };
}

/* ======================
  SCHEMA (SEO)
====================== */
function updateSchema(){
  const storeName = document.getElementById("storeName").value.trim() || "MONIQUE";
  const tel = document.getElementById("storePhone").value.trim();
  const addr = document.getElementById("storeAddress").value.trim();
  const lat = document.getElementById("storeLat").value.trim();
  const lng = document.getElementById("storeLng").value.trim();

  // opening hours
  const { specs, hours } = buildOpeningHoursSpec();
  updateHoursTextUI(hours);

  const schemaEl = document.getElementById("schemaJson");
  try{
    const obj = JSON.parse(schemaEl.textContent);
    obj.name = storeName;
    obj.telephone = tel;
    obj.address.streetAddress = addr;
    obj.geo.latitude = lat;
    obj.geo.longitude = lng;

    const url = (window.location && window.location.href && window.location.href.startsWith("http"))
      ? window.location.href : "";
    obj.url = url;

    obj.openingHoursSpecification = specs;

    schemaEl.textContent = JSON.stringify(obj, null, 2);
  }catch(e){}
}

/* ======================
  QR
====================== */
let qrObj = null;
function makeQR(){
  const url = document.getElementById("pageUrl").value.trim();
  if(!url){ alert("URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
  const box = document.getElementById("qrcode");
  box.innerHTML = "";
  qrObj = new QRCode(box, { text:url, width:160, height:160, correctLevel: QRCode.CorrectLevel.M });
  alert("QRì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.");
}
async function copyUrl(){
  const url = document.getElementById("pageUrl").value.trim();
  if(!url){ alert("URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
  try{ await navigator.clipboard.writeText(url); alert("URLì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤."); }
  catch(e){ alert("ë³µì‚¬ê°€ ë§‰í˜€ìˆìŠµë‹ˆë‹¤. ì§ì ‘ ë³µì‚¬í•´ì£¼ì„¸ìš”."); }
}

/* ======================
  INIT
====================== */
function initMonique(){
  renderMenu("menu-signature", MENU.signature);
  renderMenu("menu-coffee", MENU.coffee);
  renderMenu("menu-affogato", MENU.affogato);
  renderMenu("menu-cocktail", MENU.cocktail);
  renderMenu("menu-noncoffee", MENU.noncoffee);
  renderMenu("menu-tea", MENU.tea);

  document.getElementById("discountMode").addEventListener("change", renderCart);

  // ì„¤ì • ë³€ê²½ ì‹œ: ìŠ¤í‚¤ë§ˆ/ì§€ë„ ì—…ë°ì´íŠ¸
  ["storeName","storePhone","storeAddress","storeLat","storeLng","googleEmbedUrl"].forEach(id=>{
    document.getElementById(id).addEventListener("input", ()=>{
      updateSchema();
      updateMapAndDirections();
    });
  });
  document.getElementById("autoImageMode").addEventListener("change", autoAttachImages);

  loadHours(false);
  updateSchema();
  updateMapAndDirections();

  // URL ìë™ ì±„ìš°ê¸°
  try{
    const current = window.location.href;
    if(current && current.startsWith("http")){
      document.getElementById("pageUrl").value = current;
    }
  }catch(e){}

  renderCart();

  // ë©”ë‰´ ì´ë¯¸ì§€ ìë™ ë¶™ì´ê¸° (ì´ˆê¸° + ì•½ê°„ ë”œë ˆì´ í›„ 1íšŒ ë”)
  autoAttachImages();
  setTimeout(autoAttachImages, 1200);
}
initMonique();
</script>
</body>
</html>
